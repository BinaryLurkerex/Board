{% extends 'main/layout.html' %}

{% block title %}Статус модулей{% endblock %}

{% block content %}
    <p>Чтобы узнать информацию о изделии, отсканируйте QR код на его корпусе или введите в строку его серийный номер</p>

    <div class="form-container">
        <form method="get" action="{% url 'status' %}">
            <label for="serial-number">Введите серийный номер:</label>
            <input type="text" id="serial-number" name="serial_number" required>
            <button type="submit" class="submit-button">Отправить</button>
        </form>
    </div>

    <h2>Список модулей</h2>
    {% if products %}
        <table>
            <thead>
                <tr>
                    <th>Серийный номер</th>
                    <th>Семейство продукта</th>
                    <th>Тип продукта</th>
                    <th>Ревизия</th>
                    <th>Номер последовательности</th>
                    <th>Производитель</th>
                    <th>Дата производства</th>
                    <th>История модуля</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                    <tr>
                        <td>{{ product.serial_number }}</td>
                        <td>{{ product.product_family }}</td>
                        <td>{{ product.product_type }}</td>
                        <td>{{ product.revision }}</td>
                        <td>{{ product.sequence_number }}</td>
                        <td>{{ product.manufacturer }}</td>
                        <td>{{ product.date_of_production }}</td>
                        <td>{{ product.history_of_module }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>Нет данных для отображения.</p>
    {% endif %}
{% endblock %}
